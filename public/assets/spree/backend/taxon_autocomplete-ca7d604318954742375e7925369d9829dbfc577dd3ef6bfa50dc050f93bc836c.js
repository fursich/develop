$.fn.taxonAutocomplete=function(){"use strict";this.select2({placeholder:Spree.translations.taxon_placeholder,multiple:!0,initSelection:function(t,e){var n=t.val(),o=n.split(",").length;Spree.ajax({type:"GET",url:Spree.routes.taxons_search,data:{ids:n,per_page:o,without_children:!0},success:function(t){e(t.taxons)}})},ajax:{url:Spree.routes.taxons_search,datatype:"json",data:function(t,e){return{per_page:50,page:e,without_children:!0,q:{name_cont:t},token:Spree.api_key}},results:function(t,e){var n=e<t.pages;return{results:t.taxons,more:n}}},formatResult:function(t,e,n,o){return o(t.pretty_name)},formatSelection:function(t,e,n){return n(t.pretty_name)}})},$(document).ready(function(){$("#product_taxon_ids, .taxon_picker").taxonAutocomplete()});var set_taxon_select=function(){$("#product_taxon_ids, .taxon_picker").taxonAutocomplete()};