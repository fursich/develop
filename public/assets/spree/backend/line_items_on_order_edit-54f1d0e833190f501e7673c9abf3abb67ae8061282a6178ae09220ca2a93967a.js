$(document).ready(function(){"use strict";$("#add_line_item_variant_id").change(function(){var t=$(this).val(),a=_.find(window.variants,function(a){return a.id==t}),i=HandlebarsTemplates["variants/line_items_autocomplete_stock"];$("#stock_details").html(i({variant:a})),$("#stock_details").show(),$("button.add_variant").click(addVariant)})}),addVariant=function(){$("#stock_details").hide();var t=$("input.variant_autocomplete").val(),a=0,i={};if($(".stock-levels.untracked-inventory").length>0)a=$("input#variant_quantity").val();else{$("input.quantity[data-variant-id='"+t+"']").each(function(){a+=Number($(this).val()),i[$(this).attr("data-stock-location-id")]=$(this).val()})}return adjustLineItems(order_number,t,a,i),1},adjustLineItems=function(t,a,i,n){var e=Spree.routes.orders_api+"/"+t+"/line_items";Spree.ajax({type:"POST",url:e,data:{line_item:{variant_id:a,quantity:i,stock_location_quantities:n}}}).done(function(){window.Spree.advanceOrder(),window.location.reload()})};