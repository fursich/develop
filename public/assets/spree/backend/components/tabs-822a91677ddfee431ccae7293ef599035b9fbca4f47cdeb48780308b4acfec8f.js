(function(){var t,s=function(t,s){return function(){return t.apply(s,arguments)}};t=function(){function t(t){this.el=t,this.overflowTabs=s(this.overflowTabs,this),this.$tabList=$(this.el),this.$tabs=this.$tabList.find("li:not(.tabs-dropdown)"),this.tabs=this.$tabs.toArray(),this.$tabList.append("<li class='tabs-dropdown'><a href='#'></a><ul></ul></li>"),this.$dropdown=this.$tabList.find(".tabs-dropdown"),this.setWidths(),this.initEvents()}return t.prototype.initEvents=function(){return $(window).on("resize",this.overflowTabs),this.overflowTabs()},t.prototype.setWidths=function(){return this.tabWidths=this.tabs.map(function(t){return t.offsetWidth}),this.totalTabsWidth=this.tabWidths.reduce(function(t,s){return t+s})},t.prototype.overflowTabs=function(){var t,s,i,o;return t=this.$tabList[0].offsetWidth,this.lastKnownWidth||(this.lastKnownWidth=t),i=this.totalTabsWidth-t,o=i+this.dropdownWidth(),s=this.$dropdown.find("li").length,t<=this.lastKnownWidth&&(s&&o>0||!s&&i>0)&&this.hideTabsToFit(o),t>this.lastKnownWidth&&this.showTabsToFit(i),this.lastKnownWidth=t},t.prototype.dropdownWidth=function(){return this.$dropdown[0].offsetWidth||50},t.prototype.hideTabsToFit=function(t){var s,i,o,n,h;for(this.$tabList.addClass("tabs-overflowed"),h=this.tabs.slice().reverse(),s=0,i=h.length;s<i;s++){if(o=h[s],t<=0)return;$(o).hasClass("in-dropdown")||$(o).hasClass("active")||(n=o.offsetWidth,this.totalTabsWidth-=n,t-=n,$(o).appendTo(this.$dropdown.find("ul")).addClass("in-dropdown"))}},t.prototype.showTabsToFit=function(t){var s,i,o,n,h,a;for(n=this.tabs.slice(),s=i=0,o=n.length;i<o;s=++i)if(h=n[s],$(h).hasClass("in-dropdown")){if(a=this.tabWidths[s],t+a>0)break;this.totalTabsWidth+=a,t+=a,$(h).insertBefore(this.$dropdown).removeClass("in-dropdown")}if(0===this.$dropdown.find("li").length)return this.$tabList.removeClass("tabs-overflowed")},t}(),window.onload=function(){var s,i,o,n,h;for(n=$(".tabs"),h=[],i=0,o=n.length;i<o;i++)s=n[i],h.push(new t(s));return h}}).call(this);