(function(){var e,n,t,i,r,a,l;t=function(e){return e.preventDefault(),$(e.delegateTarget).addClass("editing")},i=function(e){return e.preventDefault(),$(e.delegateTarget).removeClass("editing")},l=function(n){var t,r,a;return n.preventDefault(),t=$(this).closest(".line-item"),r=t.data("line-item-id"),a=parseInt(t.find("input.line_item_quantity").val()),e(r,a),i(n)},a=function(e){var t,r;if(e.preventDefault(),confirm(Spree.translations.are_you_sure_delete))return t=$(this).closest(".line-item"),r=t.data("line-item-id"),n(r),i(e)},$(document).ready(function(){return $(".line-item").on("click",".edit-line-item",t).on("click",".cancel-line-item",i).on("click",".save-line-item",l).on("click",".delete-line-item",a)}),r=function(e){return Spree.routes.line_items_api(order_number)+"/"+e+".json"},e=function(e,n){var t;return t=r(e),Spree.ajax({type:"PUT",url:t,data:{line_item:{quantity:n}}}).done(function(){return window.Spree.advanceOrder()})},n=function(e){var n;return n=r(e),Spree.ajax({type:"DELETE",url:n}).done(function(){return $("#line-item-"+e).remove(),0===$(".line-items tr.line-item").length&&$(".line-items").remove(),window.Spree.advanceOrder()})}}).call(this);